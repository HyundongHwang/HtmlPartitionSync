<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-81a59bf26d881d29286674f6deefe779c444382fff322085b50ba455460ccae5.css" integrity="sha256-gaWb8m2IHSkoZnT23u/necREOC//MiCFtQukVUYMyuU=" media="all" rel="stylesheet">
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-dbb1782bf89484308f4a1b39a9a044fbce97be665f5eeaf3d00a0c9ed4e130f2.css" integrity="sha256-27F4K/iUhDCPShs5qaBE+86XvmZfXurz0AoMntThMPI=" media="all" rel="stylesheet">
    <script>
        $(document).ready(function () {
            $("#txtUrl").val("https://github.com/dotnet/core/blob/master/README.md");
            $("#txtPattern").val("//article");

            $("#btnCreateUrl").click(function () {
                var createdUrl = "https://htmlpartitionsync.azurewebsites.net/api/PartitionJs?url=" + encodeURIComponent($("#txtUrl").val()) + "&xpath=" + encodeURIComponent($("#txtPattern").val());
                $("#aResultUrl").attr("href", createdUrl);
                $("#aResultUrl").text(createdUrl);
                $("#codeResultUrl").text("<script src=\"" + createdUrl + "\"><\/script>");
            });

            $("#btnRenderScript").click(function () {
                var createdUrl = "https://htmlpartitionsync.azurewebsites.net/api/PartitionJs?url=" + encodeURIComponent($("#txtUrl").val()) + "&xpath=" + encodeURIComponent($("#txtPattern").val());

                $.ajax({
                    type: "GET",
                    url: createdUrl,
                }).done(function (data) {
                    $("#scriptRenderScript").text(data);
                });
            });
        });
    </script>

</head>

<body>
    <p> url : <input id="txtUrl" type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" style="width:100%"> </p>
    <p> pattern : <input id="txtPattern" type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" style="width:100%"> </p>
    <p> <button id="btnCreateUrl">create url</button> </p>
    <p> result url : <a id="aResultUrl"></a> </p>
    <p> copy code :
        <pre id="codeResultUrl" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field"></pre> </p>
    <p> <button id="btnRenderScript">render script</button> </p>
    <p>
        <script id="scriptRenderScript"></script>
    </p>
</body>

</html>